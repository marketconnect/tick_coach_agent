## 🌍 Примат цели над сценарием — что это вживую

В обычных промптах или скриптах мы говорим модели: **«Сделай X, потом Y, потом Z»**.
LLM следует этому маршруту, даже если в процессе уже видно, что Z не имеет смысла.

А **примат цели** — это про обратное:

> *«Вот зачем мы это делаем. Найди лучший способ прийти туда, сам скорректируй маршрут, но останься в рамках цели и критериев успеха».*

---

### 🔹 Что лежит в основе

1. **Цель = “зачем”**
   Формулируется как желаемое состояние системы после действия:

   > “Пользователь получает сводку, понятную без доп. пояснений”
   > “Код работает и проходит тесты”
   > “Модель понимает, почему её ответ адекватен”

2. **Критерии успеха = “как поймём, что дошли”**
   Например: точность ≥ 0.9, все тесты зелёные, ответ согласован с исходными данными.
   Это вектор проверки, не пошаговый чек-лист.

3. **Контекст свободы = “рамки”**
   Определяем границы, в которых можно проявлять креатив:

   * время/токены
   * доверенные инструменты
   * формат результата
     Всё остальное — свободно.

---
### 🔹 PCAM-логика

#### Guide

* **Guide** — это не “контейнер поведения” это **конкретный, прикладной модуль инструкций под решаемую задачу**, где формализованы:

  * цель/задача этого модуля,
  * входы и требуемые данные,
  * шаги/правила выполнения,
  * допустимые **tools** и условия их вызова,
  * проверки/ограничения и ожидаемые выходы.
* Под разные задачи — разные Guides. Их выбирают по текущему запросу.

отлично — разберём именно эти две сущности так, как они реально определены в **PCAM.md**, без добавлений.

---

#### Step

**Step** — это элемент инструкции внутри `Guide`.
Он описывает *что* должно происходить на данном этапе выполнения гайда.

Каждый `Guide` состоит из последовательности таких шагов.
Шаг может быть:

* проверкой (`verify_inputs`, `validate_output`);
* действием (`prepare_data`, `format_response`);
* **вызовом инструмента** (`call: ToolName`).

**Структура шага:**

**Задача Step:**
задаёт *порядок и семантику действий* внутри гайда —
именно по шагам исполнитель PCAM проходит в процессе работы.

**Важно:** Step сам по себе не исполняется — он **описывает**, что нужно сделать;
исполняющая среда (runtime) реализует эту инструкцию.

---

#### Context

**Context** — это текущее рабочее состояние агента.

Оно живёт только во время выполнения задачи.

Содержит всё, что агент знает «здесь и сейчас»: активные Guides, шаги, промежуточные выводы, частичные результаты, локальные данные пользователя.

После завершения эпизода контекст очищается или сворачивается в резюме (если система умеет рефлексировать).

**Взаимосвязь:**

* Guide задаёт **что делать** (инструкции).
* Steps описывают **последовательность этих действий**.
* Context хранит **что уже сделано, какие данные есть и какой шаг следующий**.


#### Tool PCAM

* **Tool — это операция/функция**, которую шаг внутри инструкции Guide может вызывать в своих шагах:
  >«На этом этапе нужно применить указанный инструмент».
* У tool есть чёткие: входы → выходы → возможные ошибки.
* Tool ничего не решает “зачем” и “когда” — он **исполняет**. Решение “когда и как” — в гайде.

